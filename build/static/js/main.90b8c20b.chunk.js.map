{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/phonebookentries.js","App.js","index.js"],"names":["Person","name","number","id","onClick","Persons","persons","arr","map","person","key","makePersonArray","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","value","onChange","type","Filter","baseUrl","axios","get","then","response","data","newObject","post","console","log","put","delete","Notification","message","styles","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","errorMessage","setErrorMessage","notificationMessage","setNotificationMessage","displayError","setTimeout","displayNotification","useEffect","personService","filterString","isPersonInPhonebook","find","entry","deletePerson","window","confirm","newPersons","filter","catch","error","color","border","borderRadius","backgroundColor","margin","textAlign","event","target","personToEdit","newPerson","preventDefault","returnedPerson","concat","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.90b8c20b.chunk.js","sourcesContent":["import React from 'react';\n\nconst makePersonArray = (arr, onClick) => arr.map(\n    person => <Person\n     key={person.id}\n     id={person.id}\n     name={person.name}\n     number={person.number}\n     onClick={onClick}\n    />)\n\nconst Persons = ({persons, onClick}) => {\n    return (\n        <div>\n            {makePersonArray(persons,onClick)}\n        </div>\n    );\n};\n\nconst Person = ({name, number,id, onClick}) => {\n\n    return (\n        <div>\n            <li>{name} {number} <button onClick={() => onClick(id, name)}>delete</button></li>\n            \n        </div>\n    );\n};\n\nexport default Persons;","import React from 'react';\n\nconst PersonForm = ({onSubmit,nameValue, nameOnChange, numberValue, numberOnChange}) => {\n    return (\n        <div>\n            <form onSubmit={onSubmit}>\n        <div>\n            name: <input\n            value={nameValue}\n            onChange={nameOnChange}\n          />\n        </div>\n        <div>\n            number: <input\n            value={numberValue}\n            onChange={numberOnChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n        </div>\n    );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Filter = ({value, onChange}) => {\n    return (\n        <div>\n            filter: <input \n            value={value}\n            onChange={onChange}\n        />\n        </div>\n    );\n};\n\nexport default Filter;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n\n\n}\n\nconst getOne = (id) => {\n    return axios.get(`${baseUrl}/${id}`)\n    \n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    console.log(`${baseUrl}/${id}`);\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n    \n}\n\nconst deletePerson = (id) =>\n    axios.delete(`${baseUrl}/${id}`)\n\n    \nexport default {\n    getOne,\n    getAll,\n    create,\n    update,\n    deletePerson\n}","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/phonebookentries'\n\n\nconst App = () => {\n\n  const notificationStyle = {\n    color : 'green',\n    border : 'solid green 4px',\n    borderRadius : 10,\n    backgroundColor : 'rgba(0,255,0,0.3)',\n    margin : '20px 0px',\n    textAlign : 'center'\n  }\n\n  const errorStyle = {\n    color : 'red',\n    border : 'solid red 4px',\n    borderRadius : 10,\n    backgroundColor : 'rgba(255,0,0,0.3)',\n    margin : '20px 0px',\n    textAlign : 'center'\n\n  }\n\n\n\n  const [persons, setPersons] = useState([])\n  \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ notificationMessage, setNotificationMessage] = useState(null)\n  \n  const reloadPage = () => {\n    personService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }\n\n  const displayError = message => {\n    console.log('error');\n    setErrorMessage(message)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const displayNotification = message => {\n    setNotificationMessage(message)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  },[])\n\n  const addPerson = event => {\n    if(isPersonInPhonebook(newName)){\n      const result = window.confirm(`${newName} is already in the Phonebook, replace old Number with a new one?`)\n      if(result){\n        const personToEdit = persons.find(person => person.name === newName)\n        personService\n          .getOne(personToEdit.id)\n          .catch(error => displayError(`${personToEdit.name} has already been removed.`))\n        const newPerson = {\n          name : personToEdit.name,\n          number : newNumber\n        }\n        personService.update(personToEdit.id, newPerson)\n          .then(persons => setPersons(persons))\n      }\n    }\n      else{\n      event.preventDefault()\n      const person = {\n        name : newName,\n        number : newNumber\n      }\n      personService\n        .create(person)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          displayNotification(`Added ${person.name}`)\n        })\n        .catch(error => displayError(`${person.name} has already been removed.`))\n    }\n  }\n\n  const personsIncluding = filterString => persons.filter(person => person.name.toLowerCase().includes(filterString.toLowerCase()))\n\n  const isPersonInPhonebook = name => persons.find(entry => name === entry.name)\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value)\n  }\n  \n  const deletePerson = (id, name) => {\n    const result = window.confirm(`Delete ${name} ?`)\n    if(result){\n      personService\n        .deletePerson(id)\n        .then(() => {\n          const newPersons = persons.filter(person => person.id !== id)\n          setPersons(newPersons)\n          displayNotification(`Deleted ${name}`)\n        })\n        .catch(error => {\n          displayError(`Deleted person couldnt be found`)\n          reloadPage()\n        })\n  }\n} \n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} styles={errorStyle}/>\n      <Notification message={notificationMessage} styles={notificationStyle}/>\n      <Filter\n        value={newFilter}\n        onChange={handleFilterChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm \n        onSubmit={addPerson}\n        nameValue={newName}\n        nameOnChange={handleNameChange}\n        numberValue={newNumber}\n        numberOnChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      {newFilter === '' ? <Persons onClick={deletePerson} persons={persons}/> : <Persons onClick={deletePerson} persons={personsIncluding(newFilter)}/>}\n    </div>\n  )\n}\n\n\nconst Notification = ({message, styles}) => {\n  if(message === null){\n    return null\n  }else return(\n    <div style={styles}>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}