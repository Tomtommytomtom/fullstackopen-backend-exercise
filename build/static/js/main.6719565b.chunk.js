(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),o=t(13),r=t.n(o),u=t(2),l=function(e){var n=e.name,t=e.number,a=e.id,o=e.onClick;return c.a.createElement("div",null,c.a.createElement("li",null,n," ",t," ",c.a.createElement("button",{onClick:function(){return o(a,n)}},"delete")))},i=function(e){var n=e.persons,t=e.onClick;return c.a.createElement("div",null,function(e,n){return e.map((function(e){return c.a.createElement(l,{key:e.id,id:e.id,name:e.name,number:e.number,onClick:n})}))}(n,t))},m=function(e){var n=e.onSubmit,t=e.nameValue,a=e.nameOnChange,o=e.numberValue,r=e.numberOnChange;return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:n},c.a.createElement("div",null,"name: ",c.a.createElement("input",{value:t,onChange:a})),c.a.createElement("div",null,"number: ",c.a.createElement("input",{value:o,onChange:r})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add"))))},d=function(e){var n=e.value,t=e.onChange;return c.a.createElement("div",null,"filter: ",c.a.createElement("input",{value:n,onChange:t}))},s=t(3),f=t.n(s),b="/api/persons",g=function(e){return console.log("getOne","".concat(b,"/").concat(e)),f.a.get("".concat(b,"/").concat(e))},h=function(){return console.log("getAll","".concat(b)),f.a.get(b).then((function(e){return e.data}))},p=function(e){return console.log("put","".concat(b)),f.a.post(b,e).then((function(e){return e.data}))},v=function(e,n){return console.log("update","".concat(b,"/").concat(e)),f.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},E=function(e){return console.log("delete","".concat(b,"/").concat(e)),f.a.delete("".concat(b,"/").concat(e))},C=function(e){var n=e.message,t=e.styles;return null===n?null:c.a.createElement("div",{style:t},c.a.createElement("p",null,n))},O=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(a.useState)(""),l=Object(u.a)(r,2),s=l[0],f=l[1],b=Object(a.useState)(""),O=Object(u.a)(b,2),k=O[0],j=O[1],w=Object(a.useState)(""),y=Object(u.a)(w,2),x=y[0],S=y[1],A=Object(a.useState)(null),D=Object(u.a)(A,2),V=D[0],J=D[1],L=Object(a.useState)(null),N=Object(u.a)(L,2),P=N[0],R=N[1],T=function(){console.log("reloaded"),h().then((function(e){o(e)}))},B=function(e){console.log("error"),J(e),setTimeout((function(){J(null)}),5e3)},I=function(e){R(e),setTimeout((function(){R(null)}),5e3)};Object(a.useEffect)((function(){h().then((function(e){o(e)}))}),[]);var q,z=function(e){return t.find((function(n){return e===n.name}))},F=function(e,n){window.confirm("Delete ".concat(n," ").concat(e," ?"))&&E(e).then((function(){T(),I("Deleted ".concat(n))})).catch((function(e){B("Deleted person couldnt be found"),T()}))};return c.a.createElement("div",null,c.a.createElement("h1",null,"Phonebook"),c.a.createElement(C,{message:V,styles:{color:"red",border:"solid red 4px",borderRadius:10,backgroundColor:"rgba(255,0,0,0.3)",margin:"20px 0px",textAlign:"center"}}),c.a.createElement(C,{message:P,styles:{color:"green",border:"solid green 4px",borderRadius:10,backgroundColor:"rgba(0,255,0,0.3)",margin:"20px 0px",textAlign:"center"}}),c.a.createElement(d,{value:x,onChange:function(e){S(e.target.value)}}),c.a.createElement("h2",null,"add a new"),c.a.createElement(m,{onSubmit:function(e){if(z(s)){if(window.confirm("".concat(s," is already in the Phonebook, replace old Number with a new one?"))){var n=t.find((function(e){return e.name===s}));g(n.id).catch((function(e){return B("".concat(n.name," has already been removed."))}));var a={name:n.name,number:k};v(n.id,a).then((function(e){return o(e)}))}}else{e.preventDefault();var c={name:s,number:k};p(c).then((function(e){o(t.concat(e)),f(""),j(""),I("Added ".concat(c.name))})).catch((function(e){return B("".concat(c.name," has already been removed."))}))}},nameValue:s,nameOnChange:function(e){f(e.target.value)},numberValue:k,numberOnChange:function(e){j(e.target.value)}}),c.a.createElement("h3",null,"Numbers"),""===x?c.a.createElement(i,{onClick:F,persons:t}):c.a.createElement(i,{onClick:F,persons:(q=x,t.filter((function(e){return e.name.toLowerCase().includes(q.toLowerCase())})))}))};r.a.render(c.a.createElement(O,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6719565b.chunk.js.map