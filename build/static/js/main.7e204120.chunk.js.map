{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/phonebookentries.js","App.js","index.js"],"names":["Person","name","number","id","onClick","Persons","persons","arr","map","person","key","makePersonArray","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","value","onChange","type","Filter","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","styles","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","errorMessage","setErrorMessage","notificationMessage","setNotificationMessage","reloadPage","personService","displayError","setTimeout","displayNotification","useEffect","filterString","isPersonInPhonebook","find","entry","deletePerson","window","confirm","catch","error","color","border","borderRadius","backgroundColor","margin","textAlign","event","target","personToEdit","newPerson","preventDefault","returnedPerson","console","log","concat","filter","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7e204120.chunk.js","sourcesContent":["import React from 'react';\n\nconst makePersonArray = (arr, onClick) => arr.map(\n    person => <Person\n     key={person.id}\n     id={person.id}\n     name={person.name}\n     number={person.number}\n     onClick={onClick}\n    />)\n\nconst Persons = ({persons, onClick}) => {\n    return (\n        <div>\n            {makePersonArray(persons,onClick)}\n        </div>\n    );\n};\n\nconst Person = ({name, number,id, onClick}) => {\n\n    return (\n        <div>\n            <li>{name} {number} <button onClick={() => onClick(id, name)}>delete</button></li>\n            \n        </div>\n    );\n};\n\nexport default Persons;","import React from 'react';\n\nconst PersonForm = ({onSubmit,nameValue, nameOnChange, numberValue, numberOnChange}) => {\n    return (\n        <div>\n            <form onSubmit={onSubmit}>\n        <div>\n            name: <input\n            value={nameValue}\n            onChange={nameOnChange}\n          />\n        </div>\n        <div>\n            number: <input\n            value={numberValue}\n            onChange={numberOnChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n        </div>\n    );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Filter = ({value, onChange}) => {\n    return (\n        <div>\n            filter: <input \n            value={value}\n            onChange={onChange}\n        />\n        </div>\n    );\n};\n\nexport default Filter;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n\n\n}\n\nconst getOne = (id) => {\n    return axios.get(`${baseUrl}/${id}`)\n    \n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n    \n}\n\nconst deleteP = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n    \nexport default {\n    getOne,\n    getAll,\n    create,\n    update,\n    deleteP\n}","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/phonebookentries'\n\n\nconst App = () => {\n\n  const notificationStyle = {\n    color : 'green',\n    border : 'solid green 4px',\n    borderRadius : 10,\n    backgroundColor : 'rgba(0,255,0,0.3)',\n    margin : '20px 0px',\n    textAlign : 'center'\n  }\n\n  const errorStyle = {\n    color : 'red',\n    border : 'solid red 4px',\n    borderRadius : 10,\n    backgroundColor : 'rgba(255,0,0,0.3)',\n    margin : '20px 0px',\n    textAlign : 'center'\n\n  }\n\n\n\n  const [persons, setPersons] = useState([])\n  \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ notificationMessage, setNotificationMessage] = useState(null)\n  \n  const reloadPage = () => {\n    personService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }\n\n  const displayError = message => {\n    setErrorMessage(message)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const displayNotification = message => {\n    setNotificationMessage(message)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  },[])\n\n  const addPerson = event => {\n    if(isPersonInPhonebook(newName)){\n      const result = window.confirm(`${newName} is already in the Phonebook, replace old Number with a new one?`)\n      if(result){\n        const personToEdit = persons.find(person => person.name === newName)\n        personService\n          .getOne(personToEdit.id)\n          .catch(error => displayError(`${personToEdit.name} has already been removed.`))\n        const newPerson = {\n          name : personToEdit.name,\n          number : newNumber\n        }\n        personService\n          .update(personToEdit.id, newPerson)\n          .then(reloadPage())\n      }\n    }\n      else{\n      event.preventDefault()\n      const person = {\n        name : newName,\n        number : newNumber\n      }\n      personService\n        .create(person)\n        .then(returnedPerson => {\n          console.log('inside promise, not supposed to happen')\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          displayNotification(`Added ${person.name}`)\n        })\n        .catch(error => {\n          displayError(error.response.data.error)\n        })\n    }\n  }\n\n  const personsIncluding = filterString => persons.filter(person => person.name.toLowerCase().includes(filterString.toLowerCase()))\n\n  const isPersonInPhonebook = name => persons.find(entry => name === entry.name)\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value)\n  }\n  \n  const deletePerson = (id, name) => {\n    const result = window.confirm(`Delete ${name} ?`)\n    if(result){\n      personService\n        .deleteP(id)\n        .then((response) => {\n          reloadPage();\n          displayNotification(`Deleted ${name}`)\n        })\n        .catch(error => {\n          displayError(`Deleted person couldnt be found`)\n          reloadPage()\n        })\n    }\n  } \n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} styles={errorStyle}/>\n      <Notification message={notificationMessage} styles={notificationStyle}/>\n      <Filter\n        value={newFilter}\n        onChange={handleFilterChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm \n        onSubmit={addPerson}\n        nameValue={newName}\n        nameOnChange={handleNameChange}\n        numberValue={newNumber}\n        numberOnChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      {newFilter === '' ? <Persons onClick={deletePerson} persons={persons}/> : <Persons onClick={deletePerson} persons={personsIncluding(newFilter)}/>}\n    </div>\n  )\n}\n\n\nconst Notification = ({message, styles}) => {\n  if(message === null){\n    return null\n  }else return(\n    <div style={styles}>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}