{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/phonebookentries.js","App.js","index.js"],"names":["Person","name","number","id","onClick","Persons","persons","arr","map","person","key","makePersonArray","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","value","onChange","type","Filter","baseUrl","console","log","axios","get","then","response","data","newObject","post","put","delete","Notification","message","styles","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","errorMessage","setErrorMessage","notificationMessage","setNotificationMessage","reloadPage","personService","displayError","setTimeout","displayNotification","useEffect","filterString","isPersonInPhonebook","find","entry","deletePerson","window","confirm","catch","error","color","border","borderRadius","backgroundColor","margin","textAlign","event","target","personToEdit","newPerson","preventDefault","returnedPerson","concat","filter","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c5b4d8b0.chunk.js","sourcesContent":["import React from 'react';\n\nconst makePersonArray = (arr, onClick) => arr.map(\n    person => <Person\n     key={person.id}\n     id={person.id}\n     name={person.name}\n     number={person.number}\n     onClick={onClick}\n    />)\n\nconst Persons = ({persons, onClick}) => {\n    return (\n        <div>\n            {makePersonArray(persons,onClick)}\n        </div>\n    );\n};\n\nconst Person = ({name, number,id, onClick}) => {\n\n    return (\n        <div>\n            <li>{name} {number} <button onClick={() => onClick(id, name)}>delete</button></li>\n            \n        </div>\n    );\n};\n\nexport default Persons;","import React from 'react';\n\nconst PersonForm = ({onSubmit,nameValue, nameOnChange, numberValue, numberOnChange}) => {\n    return (\n        <div>\n            <form onSubmit={onSubmit}>\n        <div>\n            name: <input\n            value={nameValue}\n            onChange={nameOnChange}\n          />\n        </div>\n        <div>\n            number: <input\n            value={numberValue}\n            onChange={numberOnChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n        </div>\n    );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Filter = ({value, onChange}) => {\n    return (\n        <div>\n            filter: <input \n            value={value}\n            onChange={onChange}\n        />\n        </div>\n    );\n};\n\nexport default Filter;","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    console.log('getAll',`${baseUrl}`)\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n\n\n}\n\nconst getOne = (id) => {\n    console.log('getOne',`${baseUrl}/${id}`)\n    return axios.get(`${baseUrl}/${id}`)\n    \n}\n\nconst create = newObject => {\n    console.log('put',`${baseUrl}`)\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    console.log('update',`${baseUrl}/${id}`);\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n    \n}\n\nconst deletePerson = (id) => {\n    console.log('delete',`${baseUrl}/${id}`);\n    return axios.delete(`${baseUrl}/${id}`)\n}\n    \nexport default {\n    getOne,\n    getAll,\n    create,\n    update,\n    deletePerson\n}","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/phonebookentries'\n\n\nconst App = () => {\n\n  const notificationStyle = {\n    color : 'green',\n    border : 'solid green 4px',\n    borderRadius : 10,\n    backgroundColor : 'rgba(0,255,0,0.3)',\n    margin : '20px 0px',\n    textAlign : 'center'\n  }\n\n  const errorStyle = {\n    color : 'red',\n    border : 'solid red 4px',\n    borderRadius : 10,\n    backgroundColor : 'rgba(255,0,0,0.3)',\n    margin : '20px 0px',\n    textAlign : 'center'\n\n  }\n\n\n\n  const [persons, setPersons] = useState([])\n  \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ notificationMessage, setNotificationMessage] = useState(null)\n  \n  const reloadPage = () => {\n    console.log('reloaded')\n    personService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }\n\n  const displayError = message => {\n    console.log('error');\n    setErrorMessage(message)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const displayNotification = message => {\n    setNotificationMessage(message)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  },[])\n\n  const addPerson = event => {\n    if(isPersonInPhonebook(newName)){\n      const result = window.confirm(`${newName} is already in the Phonebook, replace old Number with a new one?`)\n      if(result){\n        const personToEdit = persons.find(person => person.name === newName)\n        personService\n          .getOne(personToEdit.id)\n          .catch(error => displayError(`${personToEdit.name} has already been removed.`))\n        const newPerson = {\n          name : personToEdit.name,\n          number : newNumber\n        }\n        personService.update(personToEdit.id, newPerson)\n          .then(persons => setPersons(persons))\n      }\n    }\n      else{\n      event.preventDefault()\n      const person = {\n        name : newName,\n        number : newNumber\n      }\n      personService\n        .create(person)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          displayNotification(`Added ${person.name}`)\n        })\n        .catch(error => displayError(`${person.name} has already been removed.`))\n    }\n  }\n\n  const personsIncluding = filterString => persons.filter(person => person.name.toLowerCase().includes(filterString.toLowerCase()))\n\n  const isPersonInPhonebook = name => persons.find(entry => name === entry.name)\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value)\n  }\n  \n  const deletePerson = (id, name) => {\n    const result = window.confirm(`Delete ${name} ${id} ?`)\n    if(result){\n      personService\n        .deletePerson(id)\n        .then(() => {\n          reloadPage();\n          displayNotification(`Deleted ${name}`)\n          return\n        })\n        .catch(error => {\n          displayError(`Deleted person couldnt be found`)\n          reloadPage()\n        })\n  }\n} \n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} styles={errorStyle}/>\n      <Notification message={notificationMessage} styles={notificationStyle}/>\n      <Filter\n        value={newFilter}\n        onChange={handleFilterChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm \n        onSubmit={addPerson}\n        nameValue={newName}\n        nameOnChange={handleNameChange}\n        numberValue={newNumber}\n        numberOnChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      {newFilter === '' ? <Persons onClick={deletePerson} persons={persons}/> : <Persons onClick={deletePerson} persons={personsIncluding(newFilter)}/>}\n    </div>\n  )\n}\n\n\nconst Notification = ({message, styles}) => {\n  if(message === null){\n    return null\n  }else return(\n    <div style={styles}>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}